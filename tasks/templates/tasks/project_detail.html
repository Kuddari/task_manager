<h1>{{ project.name }}</h1>
<p>{{ project.description }}</p>
<h2>Tasks</h2>
<ul>
    {% for task in tasks %}
    <li>{{ task.title }} - {{ task.assigned_to }}</li>
    {% endfor %}
</ul>
<a href="{% url 'create_task' project.id %}">Add Task</a>

<script>
    const userId = {{ user.id }};  // Pass the logged-in user's ID
  
    const socket = new WebSocket('ws://' + window.location.host + '/ws/notifications/');
  
    socket.onopen = function() {
        console.log("WebSocket connection established.");
    };
  
    socket.onmessage = function(event) {
        const data = JSON.parse(event.data);
        const message = data.message;

        // Display notification (e.g., alert or append to UI)
        alert(message);
    };
  
    socket.onclose = function() {
        console.log("WebSocket connection closed.");
    };
</script>
